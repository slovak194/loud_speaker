function [J_X_out_x,J_X_out_u,J_X_out_n] = get_prediction_jacobians(X,v,n,p,dt)
%GET_PREDICTION_JACOBIANS
%    [J_X_OUT_X,J_X_OUT_U,J_X_OUT_N] = GET_PREDICTION_JACOBIANS(IN1,V,IN3,IN4,DT)

%    This function was generated by the Symbolic Math Toolbox version 8.0.
%    29-Jul-2018 00:02:51

Bl = p(1);
K_m = X(4);
M_m = p(2);
R_e = X(5);
R_m = X(3);
xd = X(1);
xd_dot = X(2);
J_X_out_x = reshape([dt.*(-(dt.*(-K_m+(K_m.*R_m.*dt.*(1.0./2.0))./M_m+(Bl.^2.*K_m.*dt.*(1.0./2.0))./(M_m.*R_e)))./M_m+(K_m.*dt)./M_m+(dt.*(-K_m.*((K_m.*dt.^2.*(1.0./4.0))./M_m-1.0)+(R_m.*dt.*(-K_m+(K_m.*R_m.*dt.*(1.0./2.0))./M_m+(Bl.^2.*K_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(Bl.^2.*dt.*(-K_m+(K_m.*R_m.*dt.*(1.0./2.0))./M_m+(Bl.^2.*K_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./(M_m.*R_e)))./M_m).*(-1.0./6.0)+1.0,dt.*((K_m.*-2.0+(K_m.*R_m.*dt)./M_m+(Bl.^2.*K_m.*dt)./(M_m.*R_e))./M_m-K_m./M_m-(K_m.*((K_m.*dt.^2.*(1.0./4.0))./M_m-1.0).*-2.0+(R_m.*dt.*(-K_m+(K_m.*R_m.*dt.*(1.0./2.0))./M_m+(Bl.^2.*K_m.*dt.*(1.0./2.0))./(M_m.*R_e)))./M_m+(Bl.^2.*dt.*(-K_m+(K_m.*R_m.*dt.*(1.0./2.0))./M_m+(Bl.^2.*K_m.*dt.*(1.0./2.0))./(M_m.*R_e)))./(M_m.*R_e))./M_m+(-K_m.*((dt.^2.*(-K_m+(K_m.*R_m.*dt.*(1.0./2.0))./M_m+(Bl.^2.*K_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+1.0)+(R_m.*dt.*(-K_m.*((K_m.*dt.^2.*(1.0./4.0))./M_m-1.0)+(R_m.*dt.*(-K_m+(K_m.*R_m.*dt.*(1.0./2.0))./M_m+(Bl.^2.*K_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(Bl.^2.*dt.*(-K_m+(K_m.*R_m.*dt.*(1.0./2.0))./M_m+(Bl.^2.*K_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./(M_m.*R_e)))./M_m+(Bl.^2.*dt.*(-K_m.*((K_m.*dt.^2.*(1.0./4.0))./M_m-1.0)+(R_m.*dt.*(-K_m+(K_m.*R_m.*dt.*(1.0./2.0))./M_m+(Bl.^2.*K_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(Bl.^2.*dt.*(-K_m+(K_m.*R_m.*dt.*(1.0./2.0))./M_m+(Bl.^2.*K_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./(M_m.*R_e)))./(M_m.*R_e))./M_m).*(1.0./6.0),0.0,0.0,0.0,dt.*((dt.*(R_m.*((dt.*(K_m.*dt.*(-1.0./2.0)+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0))./R_e).*(1.0./2.0))./M_m+1.0)-K_m.*dt.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0).*(1.0./2.0)+(Bl.^2.*((dt.*(K_m.*dt.*(-1.0./2.0)+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0))./R_e).*(1.0./2.0))./M_m+1.0))./R_e))./M_m-(dt.*(K_m.*dt.*(-1.0./2.0)+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0))./R_e))./M_m+(dt.*(R_m+Bl.^2./R_e))./M_m-6.0).*(-1.0./6.0),dt.*((R_m.*((dt.*(K_m.*dt.*(-1.0./2.0)+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0))./R_e).*(1.0./2.0))./M_m+1.0).*2.0-K_m.*dt.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(K_m.*dt.*(-1.0./2.0)+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0))./R_e).*(1.0./2.0))./M_m+1.0).*2.0)./R_e)./M_m-(-K_m.*dt+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0).*2.0+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0).*2.0)./R_e)./M_m+(R_m+Bl.^2./R_e)./M_m-(R_m.*((dt.*(R_m.*((dt.*(K_m.*dt.*(-1.0./2.0)+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0))./R_e).*(1.0./2.0))./M_m+1.0)-K_m.*dt.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0).*(1.0./2.0)+(Bl.^2.*((dt.*(K_m.*dt.*(-1.0./2.0)+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0))./R_e).*(1.0./2.0))./M_m+1.0))./R_e))./M_m-1.0)-K_m.*dt.*((dt.*(K_m.*dt.*(-1.0./2.0)+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0))./R_e).*(1.0./2.0))./M_m+1.0)+(Bl.^2.*((dt.*(R_m.*((dt.*(K_m.*dt.*(-1.0./2.0)+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0))./R_e).*(1.0./2.0))./M_m+1.0)-K_m.*dt.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0).*(1.0./2.0)+(Bl.^2.*((dt.*(K_m.*dt.*(-1.0./2.0)+R_m.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0)+(Bl.^2.*((dt.*(R_m+Bl.^2./R_e).*(1.0./2.0))./M_m-1.0))./R_e).*(1.0./2.0))./M_m+1.0))./R_e))./M_m-1.0))./R_e)./M_m).*(-1.0./6.0)+1.0,0.0,0.0,0.0,dt.*((dt.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m-(K_m.*dt.^2.*xd_dot.*(1.0./4.0))./M_m+(R_m.*dt.*(-xd_dot+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m+(R_m.*dt.*xd_dot.*(1.0./2.0))./M_m+(Bl.^2.*dt.*xd_dot.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(Bl.^2.*dt.*(-xd_dot+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m+(R_m.*dt.*xd_dot.*(1.0./2.0))./M_m+(Bl.^2.*dt.*xd_dot.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./(M_m.*R_e)))./M_m-(dt.*(-xd_dot+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m+(R_m.*dt.*xd_dot.*(1.0./2.0))./M_m+(Bl.^2.*dt.*xd_dot.*(1.0./2.0))./(M_m.*R_e)))./M_m+(dt.*xd_dot)./M_m).*(-1.0./6.0),dt.*((xd_dot.*-2.0+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e))./M_m+(R_m.*dt.*xd_dot)./M_m+(Bl.^2.*dt.*xd_dot)./(M_m.*R_e))./M_m-xd_dot./M_m+(-xd_dot+(dt.*(R_m.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m)+K_m.*(xd+dt.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m).*(1.0./2.0))-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m)))./R_e))./M_m-(K_m.*dt.^2.*(-xd_dot+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m+(R_m.*dt.*xd_dot.*(1.0./2.0))./M_m+(Bl.^2.*dt.*xd_dot.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(R_m.*dt.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m-(K_m.*dt.^2.*xd_dot.*(1.0./4.0))./M_m+(R_m.*dt.*(-xd_dot+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m+(R_m.*dt.*xd_dot.*(1.0./2.0))./M_m+(Bl.^2.*dt.*xd_dot.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(Bl.^2.*dt.*(-xd_dot+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m+(R_m.*dt.*xd_dot.*(1.0./2.0))./M_m+(Bl.^2.*dt.*xd_dot.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./(M_m.*R_e)))./M_m+(Bl.^2.*dt.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m-(K_m.*dt.^2.*xd_dot.*(1.0./4.0))./M_m+(R_m.*dt.*(-xd_dot+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m+(R_m.*dt.*xd_dot.*(1.0./2.0))./M_m+(Bl.^2.*dt.*xd_dot.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(Bl.^2.*dt.*(-xd_dot+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m+(R_m.*dt.*xd_dot.*(1.0./2.0))./M_m+(Bl.^2.*dt.*xd_dot.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./(M_m.*R_e)))./(M_m.*R_e))./M_m-(xd_dot.*2.0-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e))./M_m-(K_m.*dt.^2.*xd_dot.*(1.0./2.0))./M_m+(R_m.*dt.*(-xd_dot+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m+(R_m.*dt.*xd_dot.*(1.0./2.0))./M_m+(Bl.^2.*dt.*xd_dot.*(1.0./2.0))./(M_m.*R_e)))./M_m+(Bl.^2.*dt.*(-xd_dot+(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m+(R_m.*dt.*xd_dot.*(1.0./2.0))./M_m+(Bl.^2.*dt.*xd_dot.*(1.0./2.0))./(M_m.*R_e)))./(M_m.*R_e))./M_m).*(1.0./6.0),1.0,0.0,0.0,dt.*(-(dt.*(-xd-dt.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m).*(1.0./2.0)+(R_m.*dt.*(xd+dt.*xd_dot.*(1.0./2.0)-(R_m.*dt.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*xd.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(K_m.*dt.^2.*xd.*(1.0./4.0))./M_m+(Bl.^2.*dt.*(xd+dt.*xd_dot.*(1.0./2.0)-(R_m.*dt.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*xd.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./(M_m.*R_e)))./M_m+(dt.*xd)./M_m+(dt.*(xd+dt.*xd_dot.*(1.0./2.0)-(R_m.*dt.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*xd.*(1.0./2.0))./(M_m.*R_e)))./M_m).*(-1.0./6.0),dt.*((xd.*2.0+dt.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(R_m.*dt.*(xd+dt.*xd_dot.*(1.0./2.0)-(R_m.*dt.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*xd.*(1.0./2.0))./(M_m.*R_e)))./M_m-(K_m.*dt.^2.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*(xd+dt.*xd_dot.*(1.0./2.0)-(R_m.*dt.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*xd.*(1.0./2.0))./(M_m.*R_e)))./(M_m.*R_e))./M_m+xd./M_m+(xd.*2.0+dt.*xd_dot-(R_m.*dt.*xd)./M_m-(Bl.^2.*dt.*xd)./(M_m.*R_e))./M_m+(xd+dt.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m)+(R_m.*dt.*(-xd-dt.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m).*(1.0./2.0)+(R_m.*dt.*(xd+dt.*xd_dot.*(1.0./2.0)-(R_m.*dt.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*xd.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(K_m.*dt.^2.*xd.*(1.0./4.0))./M_m+(Bl.^2.*dt.*(xd+dt.*xd_dot.*(1.0./2.0)-(R_m.*dt.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*xd.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./(M_m.*R_e)))./M_m-(K_m.*dt.^2.*(xd+dt.*xd_dot.*(1.0./2.0)-(R_m.*dt.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*xd.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(Bl.^2.*dt.*(-xd-dt.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m).*(1.0./2.0)+(R_m.*dt.*(xd+dt.*xd_dot.*(1.0./2.0)-(R_m.*dt.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*xd.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+(K_m.*dt.^2.*xd.*(1.0./4.0))./M_m+(Bl.^2.*dt.*(xd+dt.*xd_dot.*(1.0./2.0)-(R_m.*dt.*xd.*(1.0./2.0))./M_m-(Bl.^2.*dt.*xd.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./(M_m.*R_e)))./(M_m.*R_e))./M_m).*(-1.0./6.0),0.0,1.0,0.0,dt.*(-(dt.*(-Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m))+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m))./M_m+(dt.*(Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m))+(R_m.*dt.*(-Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m))+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m).*(1.0./2.0))./M_m+(Bl.^2.*dt.*(-Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m))+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m).*(1.0./2.0))./(M_m.*R_e)-(Bl.*K_m.*1.0./R_e.^2.*dt.^2.*(v-Bl.*xd_dot).*(1.0./4.0))./M_m))./M_m+(Bl.*1.0./R_e.^2.*dt.*(v-Bl.*xd_dot))./M_m).*(-1.0./6.0),dt.*((Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m)).*2.0+(R_m.*dt.*(-Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m))+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m))./M_m+(Bl.^2.*dt.*(-Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m))+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m))./(M_m.*R_e)-(Bl.*K_m.*1.0./R_e.^2.*dt.^2.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m)./M_m-(Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)).*-2.0+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot))./M_m)./M_m+(Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(R_m.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m)+K_m.*(xd+dt.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m).*(1.0./2.0))-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m)))./R_e))./M_m))-(R_m.*dt.*(Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m))+(R_m.*dt.*(-Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m))+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m).*(1.0./2.0))./M_m+(Bl.^2.*dt.*(-Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m))+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m).*(1.0./2.0))./(M_m.*R_e)-(Bl.*K_m.*1.0./R_e.^2.*dt.^2.*(v-Bl.*xd_dot).*(1.0./4.0))./M_m))./M_m+(K_m.*dt.^2.*(-Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m))+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m).*(1.0./2.0))./M_m-(Bl.^2.*dt.*(Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*(xd+dt.*xd_dot.*(1.0./2.0))+R_m.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)-(Bl.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m)))./R_e).*(1.0./2.0))./M_m))+(R_m.*dt.*(-Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m))+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m).*(1.0./2.0))./M_m+(Bl.^2.*dt.*(-Bl.*1.0./R_e.^2.*(v-Bl.*(xd_dot-(dt.*(K_m.*xd+R_m.*xd_dot-(Bl.*(v-Bl.*xd_dot))./R_e).*(1.0./2.0))./M_m))+(Bl.^3.*1.0./R_e.^3.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m+(Bl.*1.0./R_e.^2.*R_m.*dt.*(v-Bl.*xd_dot).*(1.0./2.0))./M_m).*(1.0./2.0))./(M_m.*R_e)-(Bl.*K_m.*1.0./R_e.^2.*dt.^2.*(v-Bl.*xd_dot).*(1.0./4.0))./M_m))./(M_m.*R_e))./M_m+(Bl.*1.0./R_e.^2.*(v-Bl.*xd_dot))./M_m).*(-1.0./6.0),0.0,0.0,1.0],[5,5]);
if nargout > 1
    J_X_out_u = [dt.*((dt.*((Bl.*((Bl.*dt.*((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0))./R_e+(Bl.*R_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+1.0))./R_e+(R_m.*dt.*((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0))./R_e+(Bl.*R_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m-(Bl.*K_m.*dt.^2.*(1.0./4.0))./(M_m.*R_e)))./M_m-(dt.*((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0))./R_e+(Bl.*R_m.*dt.*(1.0./2.0))./(M_m.*R_e)))./M_m+(Bl.*dt)./(M_m.*R_e)).*(1.0./6.0);
dt.*(((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0).*2.0)./R_e+(Bl.*R_m.*dt)./(M_m.*R_e))./M_m+((Bl.*((Bl.*dt.*((Bl.*((Bl.*dt.*((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0))./R_e+(Bl.*R_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+1.0))./R_e+(R_m.*dt.*((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0))./R_e+(Bl.*R_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m-(Bl.*K_m.*dt.^2.*(1.0./4.0))./(M_m.*R_e)))./M_m-1.0))./R_e+(R_m.*dt.*((Bl.*((Bl.*dt.*((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0))./R_e+(Bl.*R_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+1.0))./R_e+(R_m.*dt.*((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0))./R_e+(Bl.*R_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m-(Bl.*K_m.*dt.^2.*(1.0./4.0))./(M_m.*R_e)))./M_m-(K_m.*dt.^2.*((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0))./R_e+(Bl.*R_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m)./M_m-((Bl.*((Bl.*dt.*((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0))./R_e+(Bl.*R_m.*dt.*(1.0./2.0))./(M_m.*R_e)).*(1.0./2.0))./M_m+1.0).*2.0)./R_e+(R_m.*dt.*((Bl.*((Bl.^2.*dt.*(1.0./2.0))./(M_m.*R_e)-1.0))./R_e+(Bl.*R_m.*dt.*(1.0./2.0))./(M_m.*R_e)))./M_m-(Bl.*K_m.*dt.^2.*(1.0./2.0))./(M_m.*R_e))./M_m-Bl./(M_m.*R_e)).*(-1.0./6.0);
0.0;
0.0;
0.0];
end
if nargout > 2
    J_X_out_n = reshape([1.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,1.0],[5,5]);
end
